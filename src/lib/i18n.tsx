import React, { createContext, useContext, useState, useCallback, ReactNode } from "react";

export type Language = "en" | "de";

const translations = {
  en: {
    appTitle: "BD Pipeline",
    opportunities: "Opportunities",
    newOpportunity: "New Opportunity",
    title: "Title",
    description: "Description",
    industry: "Industry",
    geography: "Geography",
    technology: "Technology",
    owner: "Owner",
    stage: "Stage",
    score: "Score",
    scoring: "Scoring",
    roughScoring: "Rough Scoring",
    detailedScoring: "Detailed Scoring",
    businessCase: "Business Case",
    overview: "Overview",
    stageGates: "Stage Gates",
    create: "Create",
    cancel: "Cancel",
    save: "Save",
    delete: "Delete",
    back: "Back",
    search: "Search opportunities...",
    noOpportunities: "No opportunities yet. Create your first one!",
    // Stages
    stage_idea: "Idea",
    stage_rough_scoring: "Rough Scoring",
    stage_gate1: "Gate 1",
    stage_detailed_scoring: "Detail Scoring",
    stage_gate2: "Gate 2",
    stage_business_case: "Business Case",
    stage_gate3: "Gate 3",
    stage_go_to_market: "Go-To-Market",
    stage_closed: "Closed",
    // Scoring criteria
    marketAttractiveness: "Market Attractiveness",
    strategicFit: "Strategic Fit",
    feasibility: "Feasibility",
    commercialViability: "Commercial Viability",
    risk: "Risk",
    weight: "Weight",
    comment: "Comment",
    totalScore: "Total Score",
    riskNote: "(lower is better)",
    // Scoring tooltips
    tooltip_marketAttractiveness: "How large and growing is the target market? Consider market size, growth rate, and competitive intensity.",
    tooltip_strategicFit: "How well does this opportunity align with our core competencies, strategy, and long-term goals?",
    tooltip_feasibility: "Can we realistically deliver this? Consider technical complexity, required resources, and timeline.",
    tooltip_commercialViability: "Is there a viable business model? Consider pricing potential, margins, and customer willingness to pay.",
    tooltip_risk: "What is the overall risk level? Consider market, technical, regulatory, and execution risks. Lower score = lower risk = better.",
    // Gate decisions
    gateDecision: "Gate Decision",
    decision: "Decision",
    go: "Go",
    hold: "Hold",
    noGo: "No-Go",
    decider: "Decider",
    decisionDate: "Decision Date",
    decisionComment: "Decision Comment",
    submitDecision: "Submit Decision",
    noDecisions: "No gate decisions yet.",
    moveToRoughScoring: "Move to Rough Scoring",
    moveToDetailedScoring: "Move to Detail Scoring",
    moveToBusinessCase: "Move to Business Case",
    // Filters
    allStages: "All Stages",
    allIndustries: "All Industries",
    allGeographies: "All Geographies",
    allTechnologies: "All Technologies",
    allOwners: "All Owners",
    clearFilters: "Clear filters",
    createdAt: "Created",
    pipelineFunnel: "Pipeline Funnel",
    // Detailed scoring
    tam: "TAM (Total Addressable Market)",
    sam: "SAM (Serviceable Addressable Market)",
    targetCustomers: "Target Customers",
    customerRelationship: "Customer Relationship / Standing",
    competitors: "Competitors",
    competitivePosition: "Competitive Position",
    detailedAnalysis: "Detailed Analysis",
    detailedAnalysisPlaceholder: "Provide a thorough analysis covering key aspects, evidence, and conclusions...",
    details: "Details",
    scoringOverview: "Overview",
    scoringRadar: "Scoring Radar",
    detailedTotalScore: "Detailed Total Score",
    scoreHigh: "Strong",
    scoreMedium: "Moderate",
    scoreLow: "Weak",
    marketSizeComparison: "Market Size Comparison",
    targetCustomersPlaceholder: "Describe target customer segments, their size, and key characteristics...",
    customerRelationshipPlaceholder: "Describe existing relationships, partnerships, LOIs, or pilot programs...",
    competitorsPlaceholder: "List key competitors, their solutions, and market position...",
    competitivePositionPlaceholder: "Describe your competitive advantages and differentiation...",
    // Market Attractiveness sections
    maMarketPotential: "Market Potential",
    maCustomerLandscape: "Customer Landscape",
    maCompetitorLandscape: "Competitor Landscape",
    maGeographicalFocus: "Geographical Focus",
    maTamDescription: "TAM Definition & Scope",
    maSamDescription: "SAM Definition & Scope",
    maTamDescPlaceholder: "Describe what the TAM includes — which segments, geographies, and use cases define the total addressable market...",
    maSamDescPlaceholder: "Describe how the SAM is derived from the TAM — which segments are realistically serviceable and why...",
    maMarketGrowthRate: "Market Growth Rate",
    maGrowthRatePlaceholder: "e.g. 15% CAGR through 2030",
    maCustomerSegments: "Customer Segments",
    maAddSegment: "Add Segment",
    maSegmentName: "Segment name",
    maSegmentSize: "Size (%)",
    maSegmentDesc: "Description",
    maNoSegments: "No customer segments defined. Add segments to visualize your target market.",
    maCompetitorEntries: "Competitor Analysis",
    maAddCompetitor: "Add Competitor",
    maCompetitorName: "Competitor",
    maMarketShare: "Market Share (%)",
    maThreatLevel: "Threat Level",
    maNoCompetitors: "No competitors defined. Add competitors to build your competitive landscape.",
    maAddRegion: "Add Region",
    maRegionName: "Region",
    maRegionPotential: "Potential",
    maRegionMarketSize: "Market Size",
    maRegionNotes: "Notes",
    maNoRegions: "No regions defined. Add regions to map your geographical strategy.",
    maRegionSizePlaceholder: "e.g. €500M",
    maRegionNotesPlaceholder: "Key market dynamics, barriers...",
    assessmentGuidance: "Assessment Guidance",
    guidance_sf_1: "How well does this align with our core competencies and existing capabilities?",
    guidance_sf_2: "Does it support our long-term strategic goals and growth roadmap?",
    guidance_sf_3: "Are there synergies with our existing product portfolio or customer base?",
    guidance_fe_1: "Do we have the technical expertise and resources to deliver this?",
    guidance_fe_2: "What is the realistic timeline for development and market readiness?",
    guidance_fe_3: "Are there critical dependencies on external partners or technologies?",
    guidance_cv_1: "Is there a viable and scalable business model with attractive margins?",
    guidance_cv_2: "What is the customer's willingness to pay and the pricing power?",
    guidance_cv_3: "How quickly can this reach profitability and positive cash flow?",
    guidance_ri_1: "What are the key market, technical, and regulatory risks?",
    guidance_ri_2: "How can risks be mitigated through partnerships, phasing, or insurance?",
    guidance_ri_3: "What is the worst-case scenario and its impact on the organization?",
    // Strategic Fit
    sfAlignmentRadar: "Strategic Alignment Radar",
    sfDimensions: "Alignment Dimensions",
    sfCurrent: "Current",
    sfRequired: "Required",
    sfAvgAlignment: "Avg. Alignment",
    sfAvgRequired: "Avg. Required",
    sfOverallGap: "Overall Gap",
    sfNoGap: "No Gap",
    sfSmallGap: "Small Gap",
    sfLargeGap: "Large Gap",
    sfDimCore: "Core Competency",
    sfDimStrategy: "Strategy Alignment",
    sfDimPortfolio: "Portfolio Synergy",
    sfDimCustomer: "Customer Base Fit",
    sfDimTech: "Technology Fit",
    sfDimChannel: "Channel Fit",
    sfCapGaps: "Capability Gap Analysis",
    sfAddGap: "Add Gap",
    sfNoGaps: "No capability gaps identified. Add gaps to track required capabilities.",
    sfGapName: "Capability name",
    sfActionPlaceholder: "Describe the action plan to close this gap (hiring, partnerships, training...)",
    sfPriorityHigh: "High",
    sfPriorityMedium: "Medium",
    sfPriorityLow: "Low",
    // Commercial Viability
    cvYear: "Year",
    cvRevenue: "Revenue",
    cvCosts: "Costs",
    cvProfit: "Profit",
    cvMargin: "Margin",
    cvCumulativeProfit: "Cumulative Profit",
    cvTotalRevenue5Y: "5-Year Revenue",
    cvTotalProfit5Y: "5-Year Profit",
    cvAvgMargin: "Avg. Margin",
    cvBreakEvenYear: "Break-Even Year",
    cvPricingModel: "Pricing Model",
    cvUnitPrice: "Unit Price (€)",
    cvGrossMargin: "Target Gross Margin",
    cvRevenueProjection: "Revenue Projection (5 Years)",
    cvBreakEvenAnalysis: "Break-Even Analysis",
    cvProjectionData: "Projection Data",
    cvBreakEvenUnits: "Break-Even Units",
    cvBreakEvenUnitsPlaceholder: "Number of units/customers needed to break even",
    // Feasibility
    feTrl: "Technology Readiness Level (TRL)",
    feTimeline: "Development Timeline",
    feAddMilestone: "Add Milestone",
    feMilestoneName: "Milestone name",
    feNoMilestones: "No milestones yet. Add milestones to track your development timeline.",
    feStatusPlanned: "Planned",
    feStatusInProgress: "In Progress",
    feStatusCompleted: "Completed",
    feStatusDelayed: "Delayed",
    // Risk
    riMatrix: "Risk Matrix (Probability × Impact)",
    riProbability: "Probability",
    riImpact: "Impact",
    riHigh: "High Risk",
    riMedium: "Medium Risk",
    riLow: "Low Risk",
    riItems: "Risk Register",
    riAddItem: "Add Risk",
    riNoItems: "No risks identified yet. Add risks to build your risk matrix.",
    riItemName: "Risk name",
    riMitigationPlaceholder: "Describe mitigation strategy...",
    riCatMarket: "Market",
    riCatTechnical: "Technical",
    riCatRegulatory: "Regulatory",
    riCatExecution: "Execution",
    riCatFinancial: "Financial",
    // Business case
    investmentCost: "Investment Cost (€)",
    expectedRevenue: "Expected Annual Revenue (€)",
    roi: "ROI (%)",
    breakEvenMonths: "Break-Even (months)",
    paybackPeriod: "Payback Period (months)",
    npv: "Net Present Value (€)",
    businessCaseNotes: "Notes & Assumptions",
    financialOverview: "Financial Overview",
    // Strategic Analyses
    saTab: "Strategic Analyses",
    saAnsoff: "Ansoff Matrix",
    saBcg: "BCG Matrix",
    saMckinsey: "McKinsey Matrix",
    saSwot: "SWOT Analysis",
    saPestel: "PESTEL Analysis",
    saPorter: "Porter's Five Forces",
    saCompetitiveRivalry: "Competitive Rivalry",
    saThreatNewEntrants: "Threat of New Entrants",
    saThreatSubstitutes: "Threat of Substitutes",
    saBargainingBuyers: "Bargaining Power of Buyers",
    saBargainingSuppliers: "Bargaining Power of Suppliers",
    saIntensity: "Intensity",
    saDescription: "Description",
    saRationale: "Rationale",
    saPosition: "Position",
    saAnsoffMarketPenetration: "Market Penetration",
    saAnsoffMarketDevelopment: "Market Development",
    saAnsoffProductDevelopment: "Product Development",
    saAnsoffDiversification: "Diversification",
    saBcgStar: "Star",
    saBcgCashCow: "Cash Cow",
    saBcgQuestionMark: "Question Mark",
    saBcgDog: "Dog",
    saMckHigh: "High",
    saMckMedium: "Medium",
    saMckLow: "Low",
    saStrengths: "Strengths",
    saWeaknesses: "Weaknesses",
    saOpportunities: "Opportunities",
    saThreats: "Threats",
    saPolitical: "Political",
    saEconomic: "Economic",
    saSocial: "Social",
    saTechnological: "Technological",
    saEnvironmental: "Environmental",
    saLegal: "Legal",
    saDescPlaceholder: "Describe the current positioning and context...",
    saRationalePlaceholder: "Explain the rationale behind this classification...",
    saExistingMarket: "Existing Market",
    saNewMarket: "New Market",
    saExistingProduct: "Existing Product",
    saNewProduct: "New Product",
    saMarketGrowth: "Market Growth",
    saRelativeMarketShare: "Relative Market Share",
    saIndustryAttractiveness: "Industry Attractiveness",
    saCompetitiveStrength: "Competitive Strength",
    // Process Guide
    guideTitle: "Process & Scoring Guide",
    guideProcessTitle: "Stage Gate Process",
    guideProcessDesc: "The BD Pipeline follows a structured Stage Gate process to systematically evaluate and advance business opportunities. Each stage builds upon the previous one, with gate reviews ensuring only the most promising opportunities proceed.",
    guideStagesTitle: "Process Stages",
    guideStage_idea: "Initial capture of a new business opportunity. Basic information such as title, industry, geography, and technology is recorded.",
    guideStage_rough_scoring: "Quick evaluation across five key criteria (1–5 scale). Helps prioritize which ideas deserve deeper analysis.",
    guideStage_gate1: "First formal review. Decision makers evaluate the rough scoring and decide: Go, Hold, or No-Go.",
    guideStage_detailed_scoring: "In-depth analysis with market research, strategic fit assessment, feasibility study, commercial modeling, and risk evaluation.",
    guideStage_gate2: "Second review based on detailed scoring and strategic analyses. Requires strong evidence to proceed.",
    guideStage_business_case: "Full financial modeling including investment costs, revenue projections, ROI, NPV, and payback period.",
    guideStage_gate3: "Final gate before market entry. Business case must demonstrate clear financial viability.",
    guideStage_go_to_market: "Opportunity approved for execution. Implementation and market launch phase begins.",
    guideScoringTitle: "Scoring Categories",
    guideScoringDesc: "Each opportunity is evaluated across five weighted categories. Use the tables below to ensure consistent, standardized scoring across all evaluators.",
    guideSubcategories: "Subcategories",
    guideScoringTable: "Scoring Table",
    guideDefinition: "Definition",
    guideCategory: "Category",
    guideWeight: "Weight",
    guideNote: "Note",
    guideRiskInverted: "Note: Risk scoring is inverted — a score of 1 (low risk) is best, 5 (high risk) is worst.",
    // Market Attractiveness
    guideMA_desc: "Evaluates the overall attractiveness and size of the target market. Considers total addressable market, growth trends, customer demand, and competitive dynamics.",
    guideMA_sub1: "Market Potential (TAM/SAM)",
    guideMA_sub1_desc: "Total and serviceable addressable market size, including growth projections and market maturity.",
    guideMA_sub2: "Customer Landscape",
    guideMA_sub2_desc: "Target customer segments, their needs, purchasing behavior, and willingness to pay.",
    guideMA_sub3: "Competitor Landscape",
    guideMA_sub3_desc: "Number and strength of competitors, market concentration, and barriers to entry.",
    guideMA_sub4: "Geographical Focus",
    guideMA_sub4_desc: "Regional market potential, regulatory differences, and logistical considerations.",
    guideMA_s1: "Very small market (<€1M TAM), declining, highly fragmented with dominant incumbents",
    guideMA_s2: "Small market (€1–10M TAM), flat growth, several strong competitors",
    guideMA_s3: "Medium market (€10–50M TAM), moderate growth (5–10%), manageable competition",
    guideMA_s4: "Large market (€50–200M TAM), strong growth (10–20%), favorable competitive position",
    guideMA_s5: "Very large market (>€200M TAM), rapid growth (>20%), clear market gap or first-mover advantage",
    // Strategic Fit
    guideSF_desc: "Assesses how well the opportunity aligns with the company's strategic direction, core competencies, and existing portfolio.",
    guideSF_sub1: "Strategic Alignment",
    guideSF_sub1_desc: "Fit with corporate vision, mission, and strategic priorities.",
    guideSF_sub2: "Capability Match",
    guideSF_sub2_desc: "Alignment with existing technical and organizational capabilities.",
    guideSF_sub3: "Portfolio Synergies",
    guideSF_sub3_desc: "Potential synergies with existing products, customers, or channels.",
    guideSF_s1: "No alignment with strategy; requires entirely new capabilities; no synergies",
    guideSF_s2: "Weak alignment; significant capability gaps; minimal synergies",
    guideSF_s3: "Moderate alignment; some capabilities exist; limited synergies",
    guideSF_s4: "Strong alignment; most capabilities available; clear synergies",
    guideSF_s5: "Perfect strategic fit; leverages core strengths; strong portfolio synergies",
    // Feasibility
    guideFE_desc: "Evaluates the technical and organizational feasibility of realizing the opportunity within a reasonable timeframe.",
    guideFE_sub1: "Technical Readiness (TRL)",
    guideFE_sub1_desc: "Technology Readiness Level from basic research (TRL 1) to proven system (TRL 9).",
    guideFE_sub2: "Resource Availability",
    guideFE_sub2_desc: "Availability of required personnel, equipment, and infrastructure.",
    guideFE_sub3: "Timeline & Milestones",
    guideFE_sub3_desc: "Realistic project timeline with clear, achievable milestones.",
    guideFE_s1: "Fundamental research needed (TRL 1–2); no resources available; >5 years to market",
    guideFE_s2: "Early development (TRL 3–4); major resource gaps; 3–5 years to market",
    guideFE_s3: "Prototype stage (TRL 5–6); some resources available; 2–3 years to market",
    guideFE_s4: "Demonstration phase (TRL 7–8); resources largely available; 1–2 years to market",
    guideFE_s5: "Market-ready (TRL 9); all resources in place; <1 year to market",
    // Commercial Viability
    guideCV_desc: "Analyzes the financial attractiveness and commercial sustainability of the opportunity.",
    guideCV_sub1: "Revenue Model & Pricing",
    guideCV_sub1_desc: "Clarity and viability of the pricing strategy and revenue generation approach.",
    guideCV_sub2: "Margin & Profitability",
    guideCV_sub2_desc: "Expected gross margins, cost structure, and path to profitability.",
    guideCV_sub3: "Financial Projections",
    guideCV_sub3_desc: "5-year revenue/cost projections, break-even analysis, and ROI estimates.",
    guideCV_s1: "No clear revenue model; negative margins expected; no path to profitability",
    guideCV_s2: "Unclear pricing; thin margins (<10%); break-even >5 years",
    guideCV_s3: "Defined pricing model; moderate margins (10–25%); break-even in 3–5 years",
    guideCV_s4: "Strong pricing power; good margins (25–40%); break-even in 1–3 years",
    guideCV_s5: "Premium pricing justified; excellent margins (>40%); break-even <1 year",
    // Risk
    guideRI_desc: "Identifies and assesses the key risks that could prevent successful realization. Lower risk scores are better.",
    guideRI_sub1: "Market & Regulatory Risk",
    guideRI_sub1_desc: "Risks from market changes, regulatory requirements, and compliance.",
    guideRI_sub2: "Technical & Execution Risk",
    guideRI_sub2_desc: "Technology risks, development challenges, and project execution uncertainties.",
    guideRI_sub3: "Financial Risk",
    guideRI_sub3_desc: "Investment risk, funding uncertainty, and currency/economic exposure.",
    guideRI_s1: "Minimal risk across all dimensions; stable regulatory environment; proven technology",
    guideRI_s2: "Low risk; minor regulatory concerns; well-understood technology",
    guideRI_s3: "Moderate risk; some regulatory uncertainty; manageable technical challenges",
    guideRI_s4: "High risk; significant regulatory hurdles; unproven technology; financial uncertainty",
    guideRI_s5: "Very high risk; hostile regulatory environment; breakthrough technology required; major financial exposure",
    // Strategic Analyses Guide
    guideStrategicTitle: "Strategic Analysis Frameworks",
    guideStrategicDesc: "The following frameworks provide structured approaches for analyzing the strategic context of each opportunity.",
    guideAnsoffDesc: "Maps growth strategies by combining existing/new products with existing/new markets. Helps classify the opportunity's growth approach.",
    guideBcgDesc: "Portfolio analysis tool that classifies opportunities by relative market share and market growth rate into Stars, Cash Cows, Question Marks, or Dogs.",
    guideMckinseyDesc: "9-cell matrix evaluating opportunities along industry attractiveness and competitive strength. Guides invest/selectivity/harvest decisions.",
    guideSwotDesc: "Systematic analysis of internal Strengths and Weaknesses alongside external Opportunities and Threats.",
    guidePestelDesc: "Macro-environmental analysis covering Political, Economic, Social, Technological, Environmental, and Legal factors.",
    guidePorterDesc: "Analyzes five competitive forces: rivalry, new entrants, substitutes, buyer power, and supplier power to assess industry profitability.",
    // Formula
    guideFormulaTitle: "Score Calculation",
    guideFormulaDesc: "The total score is a weighted average of all five criteria. Risk is inverted (6 minus score) so that low-risk opportunities score higher.",
    guideWeightNote_MA: "Highest weight — market size drives opportunity value",
    guideWeightNote_SF: "Highest weight — strategic alignment is critical",
    guideWeightNote_FE: "Medium weight — must be realizable",
    guideWeightNote_CV: "Medium weight — must be commercially viable",
    guideWeightNote_RI: "Lowest weight — inverted: score is subtracted from 6",
    guideLink: "Process Guide",
    dashTotal: "Total Ideas",
    dashActive: "active",
    dashAvgScore: "Avg. Score",
    dashGtm: "Go-To-Market",
    dashInMarket: "in market",
    dashTopScorer: "Top Scorer",
    dashScoreDist: "Score Distribution",
    dashAvgRadar: "Avg. Scoring Profile",
    dashByIndustry: "By Industry",
  },
  de: {
    appTitle: "BD Pipeline",
    opportunities: "Opportunities",
    newOpportunity: "Neues Opportunity",
    title: "Titel",
    description: "Beschreibung",
    industry: "Branche",
    geography: "Geografie",
    technology: "Technologie",
    owner: "Verantwortlicher",
    stage: "Phase",
    score: "Score",
    scoring: "Bewertung",
    roughScoring: "Grobes Scoring",
    detailedScoring: "Detail-Scoring",
    businessCase: "Business Case",
    overview: "Übersicht",
    stageGates: "Stage Gates",
    create: "Erstellen",
    cancel: "Abbrechen",
    save: "Speichern",
    delete: "Löschen",
    back: "Zurück",
    search: "Opportunities durchsuchen...",
    noOpportunities: "Noch keine Opportunities. Erstellen Sie Ihr erstes!",
    stage_idea: "Idee",
    stage_rough_scoring: "Grobes Scoring",
    stage_gate1: "Gate 1",
    stage_detailed_scoring: "Detail-Scoring",
    stage_gate2: "Gate 2",
    stage_business_case: "Business Case",
    stage_gate3: "Gate 3",
    stage_go_to_market: "Go-To-Market",
    stage_closed: "Geschlossen",
    marketAttractiveness: "Marktattraktivität",
    strategicFit: "Strategischer Fit",
    feasibility: "Machbarkeit",
    commercialViability: "Kommerzielle Tragfähigkeit",
    risk: "Risiko",
    weight: "Gewicht",
    comment: "Kommentar",
    totalScore: "Gesamtbewertung",
    riskNote: "(niedriger ist besser)",
    tooltip_marketAttractiveness: "Wie groß und wachstumsstark ist der Zielmarkt? Berücksichtigen Sie Marktgröße, Wachstumsrate und Wettbewerbsintensität.",
    tooltip_strategicFit: "Wie gut passt diese Opportunity zu unseren Kernkompetenzen, unserer Strategie und unseren langfristigen Zielen?",
    tooltip_feasibility: "Können wir das realistisch umsetzen? Berücksichtigen Sie technische Komplexität, benötigte Ressourcen und Zeitrahmen.",
    tooltip_commercialViability: "Gibt es ein tragfähiges Geschäftsmodell? Berücksichtigen Sie Preispotenzial, Margen und Zahlungsbereitschaft der Kunden.",
    tooltip_risk: "Wie hoch ist das Gesamtrisiko? Berücksichtigen Sie Markt-, Technik-, Regulierungs- und Umsetzungsrisiken. Niedrigerer Score = geringeres Risiko = besser.",
    gateDecision: "Gate-Entscheidung",
    decision: "Entscheidung",
    go: "Go",
    hold: "Hold",
    noGo: "No-Go",
    decider: "Entscheider",
    decisionDate: "Entscheidungsdatum",
    decisionComment: "Entscheidungskommentar",
    submitDecision: "Entscheidung einreichen",
    noDecisions: "Noch keine Gate-Entscheidungen.",
    moveToRoughScoring: "Zum groben Scoring",
    moveToDetailedScoring: "Zum Detail-Scoring",
    moveToBusinessCase: "Zum Business Case",
    allStages: "Alle Phasen",
    allIndustries: "Alle Branchen",
    allGeographies: "Alle Geografien",
    allTechnologies: "Alle Technologien",
    allOwners: "Alle Verantwortlichen",
    clearFilters: "Filter zurücksetzen",
    createdAt: "Erstellt",
    pipelineFunnel: "Pipeline-Funnel",
    // Detailed scoring
    tam: "TAM (Gesamter adressierbarer Markt)",
    sam: "SAM (Erreichbarer Markt)",
    targetCustomers: "Zielkunden",
    customerRelationship: "Kundenbeziehung / Stellung",
    competitors: "Wettbewerber",
    competitivePosition: "Wettbewerbsposition",
    detailedAnalysis: "Detailanalyse",
    detailedAnalysisPlaceholder: "Geben Sie eine gründliche Analyse mit Kernaspekten, Belegen und Schlussfolgerungen an...",
    details: "Details",
    scoringOverview: "Übersicht",
    scoringRadar: "Scoring-Radar",
    detailedTotalScore: "Detail-Gesamtbewertung",
    scoreHigh: "Stark",
    scoreMedium: "Mittel",
    scoreLow: "Schwach",
    marketSizeComparison: "Marktgrößenvergleich",
    targetCustomersPlaceholder: "Beschreiben Sie Zielkundensegmente, deren Größe und Hauptmerkmale...",
    customerRelationshipPlaceholder: "Beschreiben Sie bestehende Beziehungen, Partnerschaften, LOIs oder Pilotprogramme...",
    competitorsPlaceholder: "Listen Sie die wichtigsten Wettbewerber, deren Lösungen und Marktposition auf...",
    competitivePositionPlaceholder: "Beschreiben Sie Ihre Wettbewerbsvorteile und Differenzierung...",
    maMarketPotential: "Marktpotenzial",
    maCustomerLandscape: "Kundenlandschaft",
    maCompetitorLandscape: "Wettbewerbslandschaft",
    maGeographicalFocus: "Geographischer Fokus",
    maTamDescription: "TAM-Definition & Abgrenzung",
    maSamDescription: "SAM-Definition & Abgrenzung",
    maTamDescPlaceholder: "Beschreiben Sie, was der TAM umfasst — welche Segmente, Geografien und Anwendungsfälle den Gesamtmarkt definieren...",
    maSamDescPlaceholder: "Beschreiben Sie, wie der SAM vom TAM abgeleitet wird — welche Segmente realistisch bedienbar sind und warum...",
    maMarketGrowthRate: "Marktwachstumsrate",
    maGrowthRatePlaceholder: "z.B. 15% CAGR bis 2030",
    maCustomerSegments: "Kundensegmente",
    maAddSegment: "Segment hinzufügen",
    maSegmentName: "Segmentname",
    maSegmentSize: "Größe (%)",
    maSegmentDesc: "Beschreibung",
    maNoSegments: "Keine Kundensegmente definiert. Fügen Sie Segmente hinzu, um Ihren Zielmarkt zu visualisieren.",
    maCompetitorEntries: "Wettbewerbsanalyse",
    maAddCompetitor: "Wettbewerber hinzufügen",
    maCompetitorName: "Wettbewerber",
    maMarketShare: "Marktanteil (%)",
    maThreatLevel: "Bedrohungsstufe",
    maNoCompetitors: "Keine Wettbewerber definiert. Fügen Sie Wettbewerber hinzu.",
    maAddRegion: "Region hinzufügen",
    maRegionName: "Region",
    maRegionPotential: "Potenzial",
    maRegionMarketSize: "Marktgröße",
    maRegionNotes: "Anmerkungen",
    maNoRegions: "Keine Regionen definiert. Fügen Sie Regionen hinzu, um Ihre geographische Strategie abzubilden.",
    maRegionSizePlaceholder: "z.B. €500M",
    maRegionNotesPlaceholder: "Marktdynamiken, Barrieren...",
    assessmentGuidance: "Bewertungsleitfaden",
    guidance_sf_1: "Wie gut passt dies zu unseren Kernkompetenzen und bestehenden Fähigkeiten?",
    guidance_sf_2: "Unterstützt es unsere langfristigen strategischen Ziele und den Wachstumsplan?",
    guidance_sf_3: "Gibt es Synergien mit unserem bestehenden Produktportfolio oder Kundenstamm?",
    guidance_fe_1: "Haben wir die technische Expertise und Ressourcen für die Umsetzung?",
    guidance_fe_2: "Was ist der realistische Zeitrahmen für Entwicklung und Marktreife?",
    guidance_fe_3: "Gibt es kritische Abhängigkeiten von externen Partnern oder Technologien?",
    guidance_cv_1: "Gibt es ein tragfähiges und skalierbares Geschäftsmodell mit attraktiven Margen?",
    guidance_cv_2: "Wie hoch ist die Zahlungsbereitschaft der Kunden und die Preismacht?",
    guidance_cv_3: "Wie schnell kann Profitabilität und positiver Cashflow erreicht werden?",
    guidance_ri_1: "Was sind die wesentlichen Markt-, Technik- und Regulierungsrisiken?",
    guidance_ri_2: "Wie können Risiken durch Partnerschaften, Phasierung oder Absicherung gemindert werden?",
    guidance_ri_3: "Was ist das Worst-Case-Szenario und dessen Auswirkung auf die Organisation?",
    // Strategic Fit
    sfAlignmentRadar: "Strategisches Alignment-Radar",
    sfDimensions: "Alignment-Dimensionen",
    sfCurrent: "Ist",
    sfRequired: "Soll",
    sfAvgAlignment: "Ø Alignment",
    sfAvgRequired: "Ø Soll",
    sfOverallGap: "Gesamt-Gap",
    sfNoGap: "Kein Gap",
    sfSmallGap: "Kleiner Gap",
    sfLargeGap: "Großer Gap",
    sfDimCore: "Kernkompetenz",
    sfDimStrategy: "Strategieausrichtung",
    sfDimPortfolio: "Portfoliosynergie",
    sfDimCustomer: "Kundenbasis-Fit",
    sfDimTech: "Technologie-Fit",
    sfDimChannel: "Kanal-Fit",
    sfCapGaps: "Capability-Gap-Analyse",
    sfAddGap: "Gap hinzufügen",
    sfNoGaps: "Noch keine Capability-Gaps identifiziert. Fügen Sie Gaps hinzu, um benötigte Fähigkeiten zu verfolgen.",
    sfGapName: "Fähigkeitsname",
    sfActionPlaceholder: "Beschreiben Sie den Aktionsplan zum Schließen dieser Lücke (Hiring, Partnerschaften, Training...)",
    sfPriorityHigh: "Hoch",
    sfPriorityMedium: "Mittel",
    sfPriorityLow: "Niedrig",
    // Commercial Viability
    cvYear: "Jahr",
    cvRevenue: "Umsatz",
    cvCosts: "Kosten",
    cvProfit: "Gewinn",
    cvMargin: "Marge",
    cvCumulativeProfit: "Kumulierter Gewinn",
    cvTotalRevenue5Y: "5-Jahres-Umsatz",
    cvTotalProfit5Y: "5-Jahres-Gewinn",
    cvAvgMargin: "Ø Marge",
    cvBreakEvenYear: "Break-Even Jahr",
    cvPricingModel: "Preismodell",
    cvUnitPrice: "Stückpreis (€)",
    cvGrossMargin: "Ziel-Bruttomarge",
    cvRevenueProjection: "Umsatzprojektion (5 Jahre)",
    cvBreakEvenAnalysis: "Break-Even-Analyse",
    cvProjectionData: "Projektionsdaten",
    cvBreakEvenUnits: "Break-Even Einheiten",
    cvBreakEvenUnitsPlaceholder: "Anzahl Einheiten/Kunden bis zum Break-Even",
    // Feasibility
    feTrl: "Technology Readiness Level (TRL)",
    feTimeline: "Entwicklungs-Timeline",
    feAddMilestone: "Meilenstein hinzufügen",
    feMilestoneName: "Meilensteinname",
    feNoMilestones: "Noch keine Meilensteine. Fügen Sie Meilensteine hinzu, um Ihre Entwicklungs-Timeline zu verfolgen.",
    feStatusPlanned: "Geplant",
    feStatusInProgress: "In Arbeit",
    feStatusCompleted: "Abgeschlossen",
    feStatusDelayed: "Verzögert",
    // Risk
    riMatrix: "Risk-Matrix (Eintrittswahrscheinlichkeit × Auswirkung)",
    riProbability: "Wahrscheinlichkeit",
    riImpact: "Auswirkung",
    riHigh: "Hohes Risiko",
    riMedium: "Mittleres Risiko",
    riLow: "Niedriges Risiko",
    riItems: "Risikoregister",
    riAddItem: "Risiko hinzufügen",
    riNoItems: "Noch keine Risiken identifiziert. Fügen Sie Risiken hinzu, um Ihre Risk-Matrix aufzubauen.",
    riItemName: "Risikoname",
    riMitigationPlaceholder: "Beschreiben Sie die Mitigationsstrategie...",
    riCatMarket: "Markt",
    riCatTechnical: "Technisch",
    riCatRegulatory: "Regulatorisch",
    riCatExecution: "Umsetzung",
    riCatFinancial: "Finanziell",
    // Business case
    investmentCost: "Investitionskosten (€)",
    expectedRevenue: "Erwarteter Jahresumsatz (€)",
    roi: "ROI (%)",
    breakEvenMonths: "Break-Even (Monate)",
    paybackPeriod: "Amortisationszeit (Monate)",
    npv: "Kapitalwert / NPV (€)",
    businessCaseNotes: "Anmerkungen & Annahmen",
    financialOverview: "Finanzübersicht",
    // Strategic Analyses
    saTab: "Strategische Analysen",
    saAnsoff: "Ansoff-Matrix",
    saBcg: "BCG-Matrix",
    saMckinsey: "McKinsey-Matrix",
    saSwot: "SWOT-Analyse",
    saPestel: "PESTEL-Analyse",
    saPorter: "Porters Five Forces",
    saCompetitiveRivalry: "Wettbewerbsrivalität",
    saThreatNewEntrants: "Bedrohung durch neue Marktteilnehmer",
    saThreatSubstitutes: "Bedrohung durch Substitute",
    saBargainingBuyers: "Verhandlungsmacht der Käufer",
    saBargainingSuppliers: "Verhandlungsmacht der Lieferanten",
    saIntensity: "Intensität",
    saDescription: "Beschreibung",
    saRationale: "Begründung",
    saPosition: "Position",
    saAnsoffMarketPenetration: "Marktdurchdringung",
    saAnsoffMarketDevelopment: "Marktentwicklung",
    saAnsoffProductDevelopment: "Produktentwicklung",
    saAnsoffDiversification: "Diversifikation",
    saBcgStar: "Star",
    saBcgCashCow: "Cash Cow",
    saBcgQuestionMark: "Fragezeichen",
    saBcgDog: "Armer Hund",
    saMckHigh: "Hoch",
    saMckMedium: "Mittel",
    saMckLow: "Niedrig",
    saStrengths: "Stärken",
    saWeaknesses: "Schwächen",
    saOpportunities: "Chancen",
    saThreats: "Risiken",
    saPolitical: "Politisch",
    saEconomic: "Ökonomisch",
    saSocial: "Sozial",
    saTechnological: "Technologisch",
    saEnvironmental: "Ökologisch",
    saLegal: "Rechtlich",
    saDescPlaceholder: "Beschreiben Sie die aktuelle Positionierung und den Kontext...",
    saRationalePlaceholder: "Erläutern Sie die Begründung hinter dieser Einordnung...",
    saExistingMarket: "Bestehender Markt",
    saNewMarket: "Neuer Markt",
    saExistingProduct: "Bestehendes Produkt",
    saNewProduct: "Neues Produkt",
    saMarketGrowth: "Marktwachstum",
    saRelativeMarketShare: "Relativer Marktanteil",
    saIndustryAttractiveness: "Branchenattraktivität",
    saCompetitiveStrength: "Wettbewerbsstärke",
    // Process Guide
    guideTitle: "Prozess- & Bewertungsleitfaden",
    guideProcessTitle: "Stage-Gate-Prozess",
    guideProcessDesc: "Die BD Pipeline folgt einem strukturierten Stage-Gate-Prozess, um Geschäftsmöglichkeiten systematisch zu bewerten und voranzutreiben. Jede Phase baut auf der vorherigen auf, wobei Gate-Reviews sicherstellen, dass nur die vielversprechendsten Opportunities fortschreiten.",
    guideStagesTitle: "Prozessphasen",
    guideStage_idea: "Erste Erfassung einer neuen Geschäftsmöglichkeit. Grundlegende Informationen wie Titel, Branche, Geografie und Technologie werden erfasst.",
    guideStage_rough_scoring: "Schnelle Bewertung anhand von fünf Schlüsselkriterien (Skala 1–5). Hilft bei der Priorisierung, welche Ideen eine tiefere Analyse verdienen.",
    guideStage_gate1: "Erste formale Überprüfung. Entscheidungsträger bewerten das Grob-Scoring und entscheiden: Go, Hold oder No-Go.",
    guideStage_detailed_scoring: "Vertiefte Analyse mit Marktforschung, strategischer Fit-Bewertung, Machbarkeitsstudie, kommerziellem Modell und Risikobewertung.",
    guideStage_gate2: "Zweite Überprüfung auf Basis des Detail-Scorings und der strategischen Analysen. Erfordert starke Evidenz zum Fortschreiten.",
    guideStage_business_case: "Vollständige Finanzmodellierung mit Investitionskosten, Umsatzprognosen, ROI, NPV und Amortisationsdauer.",
    guideStage_gate3: "Letztes Gate vor dem Markteintritt. Der Business Case muss eine klare finanzielle Tragfähigkeit nachweisen.",
    guideStage_go_to_market: "Opportunity ist zur Umsetzung freigegeben. Die Implementierungs- und Markteinführungsphase beginnt.",
    guideScoringTitle: "Bewertungskategorien",
    guideScoringDesc: "Jede Opportunity wird anhand von fünf gewichteten Kategorien bewertet. Verwenden Sie die untenstehenden Tabellen, um eine konsistente, standardisierte Bewertung über alle Bewerter hinweg sicherzustellen.",
    guideSubcategories: "Unterkategorien",
    guideScoringTable: "Bewertungstabelle",
    guideDefinition: "Definition",
    guideCategory: "Kategorie",
    guideWeight: "Gewicht",
    guideNote: "Hinweis",
    guideRiskInverted: "Hinweis: Die Risikobewertung ist invertiert — ein Score von 1 (niedriges Risiko) ist am besten, 5 (hohes Risiko) am schlechtesten.",
    guideMA_desc: "Bewertet die Gesamtattraktivität und Größe des Zielmarktes. Berücksichtigt Marktvolumen, Wachstumstrends, Kundennachfrage und Wettbewerbsdynamik.",
    guideMA_sub1: "Marktpotenzial (TAM/SAM)",
    guideMA_sub1_desc: "Gesamter und erreichbarer Markt, inklusive Wachstumsprognosen und Marktreife.",
    guideMA_sub2: "Kundenlandschaft",
    guideMA_sub2_desc: "Zielkundensegmente, deren Bedürfnisse, Kaufverhalten und Zahlungsbereitschaft.",
    guideMA_sub3: "Wettbewerbslandschaft",
    guideMA_sub3_desc: "Anzahl und Stärke der Wettbewerber, Marktkonzentration und Markteintrittsbarrieren.",
    guideMA_sub4: "Geografischer Fokus",
    guideMA_sub4_desc: "Regionales Marktpotenzial, regulatorische Unterschiede und logistische Überlegungen.",
    guideMA_s1: "Sehr kleiner Markt (<1 Mio. € TAM), rückläufig, stark fragmentiert mit dominanten Platzhirschen",
    guideMA_s2: "Kleiner Markt (1–10 Mio. € TAM), flaches Wachstum, mehrere starke Wettbewerber",
    guideMA_s3: "Mittlerer Markt (10–50 Mio. € TAM), moderates Wachstum (5–10%), überschaubarer Wettbewerb",
    guideMA_s4: "Großer Markt (50–200 Mio. € TAM), starkes Wachstum (10–20%), günstige Wettbewerbsposition",
    guideMA_s5: "Sehr großer Markt (>200 Mio. € TAM), rapides Wachstum (>20%), klare Marktlücke oder First-Mover-Vorteil",
    guideSF_desc: "Bewertet, wie gut die Opportunity zur strategischen Ausrichtung, den Kernkompetenzen und dem bestehenden Portfolio des Unternehmens passt.",
    guideSF_sub1: "Strategische Ausrichtung",
    guideSF_sub1_desc: "Passung zu Unternehmensvision, Mission und strategischen Prioritäten.",
    guideSF_sub2: "Fähigkeitsabgleich",
    guideSF_sub2_desc: "Übereinstimmung mit vorhandenen technischen und organisatorischen Fähigkeiten.",
    guideSF_sub3: "Portfolio-Synergien",
    guideSF_sub3_desc: "Potenzielle Synergien mit bestehenden Produkten, Kunden oder Vertriebskanälen.",
    guideSF_s1: "Keine Ausrichtung zur Strategie; erfordert völlig neue Fähigkeiten; keine Synergien",
    guideSF_s2: "Schwache Ausrichtung; erhebliche Fähigkeitslücken; minimale Synergien",
    guideSF_s3: "Moderate Ausrichtung; einige Fähigkeiten vorhanden; begrenzte Synergien",
    guideSF_s4: "Starke Ausrichtung; meiste Fähigkeiten verfügbar; klare Synergien",
    guideSF_s5: "Perfekte strategische Passung; nutzt Kernstärken; starke Portfolio-Synergien",
    guideFE_desc: "Bewertet die technische und organisatorische Machbarkeit der Umsetzung innerhalb eines angemessenen Zeitrahmens.",
    guideFE_sub1: "Technische Reife (TRL)",
    guideFE_sub1_desc: "Technology Readiness Level von Grundlagenforschung (TRL 1) bis bewährtem System (TRL 9).",
    guideFE_sub2: "Ressourcenverfügbarkeit",
    guideFE_sub2_desc: "Verfügbarkeit von erforderlichem Personal, Ausstattung und Infrastruktur.",
    guideFE_sub3: "Zeitplan & Meilensteine",
    guideFE_sub3_desc: "Realistischer Projektzeitplan mit klaren, erreichbaren Meilensteinen.",
    guideFE_s1: "Grundlagenforschung nötig (TRL 1–2); keine Ressourcen verfügbar; >5 Jahre bis Marktreife",
    guideFE_s2: "Frühe Entwicklung (TRL 3–4); große Ressourcenlücken; 3–5 Jahre bis Marktreife",
    guideFE_s3: "Prototyp-Phase (TRL 5–6); einige Ressourcen verfügbar; 2–3 Jahre bis Marktreife",
    guideFE_s4: "Demonstrationsphase (TRL 7–8); Ressourcen weitgehend verfügbar; 1–2 Jahre bis Marktreife",
    guideFE_s5: "Marktreif (TRL 9); alle Ressourcen vorhanden; <1 Jahr bis Marktreife",
    guideCV_desc: "Analysiert die finanzielle Attraktivität und kommerzielle Nachhaltigkeit der Opportunity.",
    guideCV_sub1: "Erlösmodell & Preisgestaltung",
    guideCV_sub1_desc: "Klarheit und Tragfähigkeit der Preisstrategie und des Umsatzgenerierungsansatzes.",
    guideCV_sub2: "Marge & Profitabilität",
    guideCV_sub2_desc: "Erwartete Bruttomargen, Kostenstruktur und Pfad zur Profitabilität.",
    guideCV_sub3: "Finanzprognosen",
    guideCV_sub3_desc: "5-Jahres-Umsatz-/Kostenprognosen, Break-Even-Analyse und ROI-Schätzungen.",
    guideCV_s1: "Kein klares Erlösmodell; negative Margen erwartet; kein Pfad zur Profitabilität",
    guideCV_s2: "Unklare Preisgestaltung; dünne Margen (<10%); Break-Even >5 Jahre",
    guideCV_s3: "Definiertes Preismodell; moderate Margen (10–25%); Break-Even in 3–5 Jahren",
    guideCV_s4: "Starke Preissetzungsmacht; gute Margen (25–40%); Break-Even in 1–3 Jahren",
    guideCV_s5: "Premium-Pricing gerechtfertigt; exzellente Margen (>40%); Break-Even <1 Jahr",
    guideRI_desc: "Identifiziert und bewertet die Schlüsselrisiken, die eine erfolgreiche Umsetzung verhindern könnten. Niedrigere Risiko-Scores sind besser.",
    guideRI_sub1: "Markt- & regulatorisches Risiko",
    guideRI_sub1_desc: "Risiken durch Marktveränderungen, regulatorische Anforderungen und Compliance.",
    guideRI_sub2: "Technisches & Umsetzungsrisiko",
    guideRI_sub2_desc: "Technologierisiken, Entwicklungsherausforderungen und Unsicherheiten in der Projektumsetzung.",
    guideRI_sub3: "Finanzielles Risiko",
    guideRI_sub3_desc: "Investitionsrisiko, Finanzierungsunsicherheit und Währungs-/Konjunkturrisiken.",
    guideRI_s1: "Minimales Risiko in allen Dimensionen; stabiles regulatorisches Umfeld; bewährte Technologie",
    guideRI_s2: "Niedriges Risiko; geringe regulatorische Bedenken; gut verstandene Technologie",
    guideRI_s3: "Moderates Risiko; gewisse regulatorische Unsicherheit; beherrschbare technische Herausforderungen",
    guideRI_s4: "Hohes Risiko; erhebliche regulatorische Hürden; unerprobte Technologie; finanzielle Unsicherheit",
    guideRI_s5: "Sehr hohes Risiko; feindliches regulatorisches Umfeld; Durchbruch-Technologie erforderlich; große finanzielle Exposition",
    guideStrategicTitle: "Strategische Analyse-Frameworks",
    guideStrategicDesc: "Die folgenden Frameworks bieten strukturierte Ansätze zur Analyse des strategischen Kontexts jeder Opportunity.",
    guideAnsoffDesc: "Bildet Wachstumsstrategien ab, indem bestehende/neue Produkte mit bestehenden/neuen Märkten kombiniert werden. Hilft, den Wachstumsansatz einzuordnen.",
    guideBcgDesc: "Portfolio-Analysetool, das Opportunities nach relativem Marktanteil und Marktwachstumsrate in Stars, Cash Cows, Fragezeichen oder Poor Dogs klassifiziert.",
    guideMckinseyDesc: "9-Felder-Matrix zur Bewertung entlang Branchenattraktivität und Wettbewerbsstärke. Leitet Investitions-/Selektivitäts-/Ernte-Entscheidungen.",
    guideSwotDesc: "Systematische Analyse interner Stärken und Schwächen zusammen mit externen Chancen und Risiken.",
    guidePestelDesc: "Makroumweltanalyse mit Abdeckung politischer, wirtschaftlicher, sozialer, technologischer, ökologischer und rechtlicher Faktoren.",
    guidePorterDesc: "Analysiert fünf Wettbewerbskräfte: Rivalität, neue Marktteilnehmer, Substitute, Käufermacht und Lieferantenmacht zur Bewertung der Branchenrentabilität.",
    guideFormulaTitle: "Score-Berechnung",
    guideFormulaDesc: "Der Gesamtscore ist ein gewichteter Durchschnitt aller fünf Kriterien. Risiko wird invertiert (6 minus Score), sodass Opportunities mit niedrigem Risiko höher bewertet werden.",
    guideWeightNote_MA: "Höchstes Gewicht — Marktgröße bestimmt den Opportunity-Wert",
    guideWeightNote_SF: "Höchstes Gewicht — strategische Ausrichtung ist entscheidend",
    guideWeightNote_FE: "Mittleres Gewicht — muss umsetzbar sein",
    guideWeightNote_CV: "Mittleres Gewicht — muss kommerziell tragfähig sein",
    guideWeightNote_RI: "Niedrigstes Gewicht — invertiert: Score wird von 6 subtrahiert",
    guideLink: "Prozess-Leitfaden",
    dashTotal: "Gesamt-Ideen",
    dashActive: "aktiv",
    dashAvgScore: "Ø Score",
    dashGtm: "Go-To-Market",
    dashInMarket: "im Markt",
    dashTopScorer: "Top-Scorer",
    dashScoreDist: "Score-Verteilung",
    dashAvgRadar: "Ø Scoring-Profil",
    dashByIndustry: "Nach Branche",
  },
} as const;

export type TranslationKey = keyof typeof translations.en;

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: TranslationKey) => string;
}

const I18nContext = createContext<I18nContextType | null>(null);

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState<Language>(() => {
    const saved = localStorage.getItem("bd-pipeline-lang");
    return (saved === "de" ? "de" : "en") as Language;
  });

  const handleSetLanguage = useCallback((lang: Language) => {
    setLanguage(lang);
    localStorage.setItem("bd-pipeline-lang", lang);
  }, []);

  const t = useCallback(
    (key: TranslationKey) => translations[language][key] || key,
    [language]
  );

  return (
    <I18nContext.Provider value={{ language, setLanguage: handleSetLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error("useI18n must be used within I18nProvider");
  return ctx;
}
